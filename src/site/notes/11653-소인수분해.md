---
{"dg-publish":true,"permalink":"/11653-소인수분해/","tags":["PS","소수판별법"],"created":"2024-02-15T00:42:50.270+09:00","updated":"2024-02-16T14:30:31.127+09:00"}
---


# 소인수분해

> 문제 번호: 11653
> 문제 난이도 (solved.ac 기준): 브론즈 I
> 기간: 2023년 2월 15일 (Python)
> 비고: 시간 초과 1, 오답 1
---

## 무슨 문제인가?

정수 N이 주어졌을 때, 소인수분해하는 프로그램을 작성하면 된다.
+ 첫째 줄에 정수 N이 주어진다. $$ 1 \le N \le 10,000,000 $$
+ N의 소인수분해 결과를 한 줄에 하나씩 오름차순으로 출력한다.
+ N이 1인 경우 아무것도 출력하지 않는다.

## 1차 시도

```python
# sqrt 함수를 사용하기 위한 math 모듈 import
import math

# N 입력
n = int(input())

# 에라토스테네스의 체를 위해 1~10000000까지 담은 리스트 정의
isPrime = [True for i in range(10000000)]

# 1은 소수가 아니다
isPrime[0] = False

# 소수 리스트 만들기
param = 2
while param < math.sqrt(10000000):
  x = param
  while x <= 10000000 - param:
    # 소수의 배수를 소수에서 제외
    x += param
    isPrime[x-1] = False
  param += 1

# 소수 리스트
prime = []

# 소수 추가하기
for i in range(10000000):
  if isPrime[i] == True:
    prime.append(i+1)

# 소인수분해
for p in prime:
  while n != 1 and n%p == 0:
    n //= p
    print(p)
```

## 왜 이렇게 했는가?

### 에라토스테네스의 체

소수를 구하는 방법은 아직까지 없는 것으로 알고 있다. 그래서 이런 문제처럼 소수가 필요한 경우에는 소수가 아닌 수를 걸러내는 에라토스테네스의 체라는 방법을 사용하고 있는데, 간단하게 설명하자면 이런 방법이다.

> 1부터 순서대로 모든 수를 나열한다.
> 2를 제외한 모든 2의 배수를 지운다.
> 3을 제외한 모든 3의 배수를 지운다.
> 4를 제외한 모든 4의 배수를 지운다.
> ......
> x를 제외한 모든 x의 배수를 지운다.
> .....

대략 이런 방법인데, 소수를 구할 일반적인 방법이 없으니 소수가 아닌 수들을 걸러내자는 아이디어다.

### 제곱근

어떤 숫자를 소인수분해했을 때, 그 약수는 이 숫자의 제곱근보다 항상 작다.

## 2차 시도

```python
# floor와 sqrt 함수를 사용하기 위한 math 모듈 import
import math

# N 입력
n = int(input())

# 에라토스테네스의 체를 위해 1~sqrt(10000000)까지 담은 리스트 정의
isPrime = [True for i in range(math.floor(math.sqrt(10000000)))]

# 1은 소수가 아니다
isPrime[0] = False

# 소수 리스트 만들기
param = 2
while param < math.sqrt(10000000):
  x = param
  while x <= math.sqrt(10000000) - param:
    x += param
    isPrime[x-1] = False
  param += 1
  
# 소수 리스트
prime = []

# 소수 추가하기
for i in range(math.floor(math.sqrt(10000000))):
  if isPrime[i] == True:
    prime.append(i+1)

# 소인수분해
for p in prime:
  while n != 1 and n%p == 0:
    n //= p
    print(p)

```

개같이 실패...뭐가 문제였을까?

### 알고 보니...

![스크린샷 2024-02-15 01.14.25.png](/img/user/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-02-15%2001.14.25.png)

9999999 = 3x3x239x4649인데 4649가 빠졌다. 알고 보니 남은 숫자가 $` \sqrt{10,000,000} `$ 보다 커서 그냥 통과해버린 것이다. 

## 3차 시도 (성공)

```python
# floor와 sqrt 함수를 사용하기 위한 math 모듈 import
import math

# N 입력
n = int(input())

# 에라토스테네스의 체를 위해 1~sqrt(10000000)까지 담은 리스트 정의
isPrime = [True for i in range(math.floor(math.sqrt(10000000)))]

# 1은 소수가 아니다
isPrime[0] = False

# 소수 리스트 만들기
param = 2
while param < math.sqrt(10000000):
  x = param*2
  while x <= math.sqrt(10000000):
    isPrime[x-1] = False
    x += param
  param += 1

# 소수 리스트
prime = []

# 소수 추가하기
for i in range(math.floor(math.sqrt(10000000))):
  if isPrime[i] == True:
    prime.append(i+1)

# 소인수분해
for p in prime:
  while n != 1 and n%p == 0:
    n //= p
    print(p)

# 남은 수도 출력
if n != 1:
  print(n)
```

성급한 제출은 오답만 쌓이게 만드는 주범이다. 채점하기 전에 예외 케이스들을 잘 고려해보자.